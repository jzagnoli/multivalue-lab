<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_21) on Mon Feb 03 10:44:04 PST 2014 -->
<TITLE>
com.rocketsoftware.mvapi
</TITLE>

<META NAME="keywords" CONTENT="com.rocketsoftware.mvapi package">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="com.rocketsoftware.mvapi";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;<A HREF="../../../com/rocketsoftware/mvapi/connector/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/rocketsoftware/mvapi/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package com.rocketsoftware.mvapi
</H2>
A package containing the MVAPI classes.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../com/rocketsoftware/mvapi/MVConnection.html" title="class in com.rocketsoftware.mvapi">MVConnection</A></B></TD>
<TD>Implements connection methods for an MV server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../com/rocketsoftware/mvapi/MVConstants.html" title="class in com.rocketsoftware.mvapi">MVConstants</A></B></TD>
<TD>Defines constants used by the MVAPI</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../com/rocketsoftware/mvapi/MVDriver.html" title="class in com.rocketsoftware.mvapi">MVDriver</A></B></TD>
<TD>Implements driver methods for an MV driver.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../com/rocketsoftware/mvapi/MVIndex.html" title="class in com.rocketsoftware.mvapi">MVIndex</A></B></TD>
<TD>Provides access to Multivalue file indexes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../com/rocketsoftware/mvapi/MVStatement.html" title="class in com.rocketsoftware.mvapi">MVStatement</A></B></TD>
<TD>Provides methods for executing commands and calling subroutines on the server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../com/rocketsoftware/mvapi/MVSubroutine.html" title="class in com.rocketsoftware.mvapi">MVSubroutine</A></B></TD>
<TD>Encapsulates a subroutine.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package com.rocketsoftware.mvapi Description
</H2>

<P>
A package containing the MVAPI classes.
<p>
    MVAPI is an application programming interface enabling developers using the Java programming language to access
data stored in mutlivalued databases.</p>
<p>The MVAPI contains connection, statement and resultset objects to allow connecting to
a multivalued database, executing queries and processing the results.</p>
<p></p>

<p>Example usage:</p>

<pre>

import com.rocketsoftware.mvapi.MVConnection;
import com.rocketsoftware.mvapi.MVStatement;
import com.rocketsoftware.mvapi.MVConstants;
import com.rocketsoftware.mvapi.ResultSet.MVResultSet;
import com.rocketsoftware.mvapi.exceptions.MVException;

import java.util.Properties;

/**
 * Demonstrates using MVAPI to connect to a D3 Server, execute queries and return the results.
 */
public class Main
{
    public static void main(String [] args)
    {

        Properties props = new Properties();
        props.setProperty("username", "dm");
        props.setProperty("password", "");
        String url = "jdbc:mv:d3:localhost:9003";
        String account = "MVTest";
        String AM = MVConstants.AM;
        String query;
        MVConnection connection = null;
        try
        {
            connection = new MVConnection(url, props);

            /**
             * Execute a query and display the results:
             */
            MVStatement mvStatement = connection.createStatement();
            connection.logTo(account, "");
            query =
                    "LIST CUSTOMERS ID NAME ADDRESS CITY STATE ZIP PHONE BALANCE (I";
            boolean result = mvStatement.execute(query);
            MVResultSet results = mvStatement.getResultSet();
            while (results.next())
            {
                String row = results.getCurrentRow();
                System.out.println(row);
            }

            /**
             * Call a subroutine passing it some values then read the results:
             */

            /**
             * subroutine name:
             */
            String subname = "hello";

            /**
             * Subroutine parameters:
             */
            String parameters = "X" + AM + "Y" + AM + "Z";
            query = subname + AM + parameters;
            mvStatement.execute(query);

            /**
             *
             subroutine source on server:
                 subroutine hello(indata, outdata)
             no.of.parameters = dcount(indata, @am)
             outdata = 'parameters = ':no.of.parameters
             outdata = outdata:@am:indata
             return
             *
             */

            /**
             * result set from the subroutine is the OUTDATA dynamic
             * array with each attribute generating one row in the result set.
             */
            results = mvStatement.getResultSet();
            while (results.next())
            {
                String row = results.getCurrentRow();
                System.out.println(row);
            }
        }
        catch (MVException e)
        {
            e.printStackTrace();
        }
        finally
        {
            if (connection != null)
            {
                try
                {
                    connection.close();
                }
                catch (MVException e)
                {
                    e.printStackTrace();
                }
            }
        }
    }

    /**
     * Demonstrates using the MVStatement executeQuery with selection and sort criteria.
     */
    public void demo_executeQuery()
    {
        Properties props = new Properties();
        props.setProperty("username", "dm");
        props.setProperty("password", "");
        String url = "jdbc:mv:d3:localhost:9000";
        MVConnection connection = null;
        try
        {
            // Open the connection.
            // --------------------
            connection = new MVConnection(url, props);

            MVStatement mvStatement = connection.createStatement();

            // Log to the account, execute the query and return the result set.
            // ----------------------------------------------------------------
            connection.logTo("SQLDEMO", "");
            MVResultSet results = mvStatement.executeQuery( "CUSTOMERS",  // file name
                    "WITH STATE = \"California\"",                        // selection criteria
                    "BY ORGANIZATIONNAME",                                // sort order
                    "CUSTOMERID ORGANIZATIONNAME ADDRESS CITY STATE",     // results
                    "");                                                  // no specific Item-Ids

            // Display column names.
            // ---------------------
            for (int i=0;i&ltresults.getColumnCount();i++)
            {
                System.out.println(i + " " + results.getColumns()[i] + " ");
            }

            // Display rows.
            // -------------
            while (results.next())
            {
                System.out.println(results.getCurrentRow());
            }
        }
        catch (MVException e)
        {
            e.printStackTrace();
        }
    }

    /**
     * Demonstrates calling a subroutine using the MVSubroutine object.
     */
    public void sub_call() throws MVException
    {
        Properties props = new Properties();
        props.setProperty("username", "dm");
        props.setProperty("password", "");
        String url = "jdbc:mv:d3:localhost:9000";
        MVConnection connection = null;
        try
        {
            connection = new MVConnection(url, props);
            connection.logTo("MVDEMO", "");

            // This subroutine takes 3 arguments.
            // ----------------------------------
            String subName = "TEST.SUBROUTINE";
            int arguments = 3;
            MVSubroutine mvSubroutine = connection.mvSub(subName, arguments);
            System.out.println("name: " + mvSubroutine.getName() );

            // Set the argument values.
            // ------------------------
            mvSubroutine.setArg(0, "aaa");
            mvSubroutine.setArg(1, "bbb");
            mvSubroutine.setArg(2, "ccc");

            // Call the subroutine.
            // --------------------
            mvSubroutine.mvCall();

            // Display the values returned.
            // ----------------------------
            for (int i=0;i&ltarguments;i++)
            {
                System.out.println(mvSubroutine.getArg(i));
            }
        }
        finally
        {
            if (connection != null)
            {
                try
                {
                    connection.close();
                }
                catch (MVException e)
                {
                    e.printStackTrace();
                }
            }
        }
    }

}

</pre>
</p>
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;<A HREF="../../../com/rocketsoftware/mvapi/connector/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/rocketsoftware/mvapi/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
